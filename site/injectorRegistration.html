<!DOCTYPE html>
<html lang="en">
<!--this page is for registering a new injector-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Registration</title>
	<link rel="stylesheet" href="styles/loginStyles.css">


</head>
<body>
	<main id="main-holder">
		<h1 style="text-align: center" id="welcome-banner">Missouri Immunization Information System</h1>

		<form id="newInjectorForm" action="http://localhost:8081/addinjector" method="post" onsubmit="return validateForm()">
			<h2>Injector Information</h2>
			<label for="firstName">First name:</label><br>
			<input type="text" id="firstName" name="firstName"  /><br>

			<label for="lastName">Last name:</label><br>
			<input type="text" id="lastName" name="lastName"  /><br>

			<label for="clinicID">Clinic ID:</label><br>
			<input type="number" id="clinicID" name="clinicID" min="1" /><br>

			<input type="submit" value="register" id="newInjectorFormSubmit">
		</form>
		
		<!-- Commented out for week 4 survey -->
		<!-- <h2>
			Documents
		</h2>
		<form action="/action_page.php"
			  enctype="multipart/form-data">

			<label for="myfile">Select a file:</label>
			<input type="file" id="myfile" name="myfile" />
			<br /><br />
		</form> -->

		<script>
			// commented out for javascript validation testing  
	
			//var form = document.getElementById("newInjectorForm");
   // 		form.addEventListener("submit", function(){
			//	alert("Success!");
			//});

			function validateForm() {
                var regName = /^[a-zA-Z]+ [a-zA-Z]+$/;
                const firstName = document.forms["newInjectorForm"]["firstName"].value;
                if (firstName == "") {
                    alert("Name must be filled out");
                    return false;
				}
				if (!regName.test(firstName)) {
					alert("Invalid first name given");
                }

                const lastName = document.forms["newInjectorForm"]["lastName"].value;
				if (lastName == "") {
					alert("Name must be filled out");
					return false;
				}
				if (!regName.test(lastName)) {
                    alert("Invalid last name given");
                }

                const clinicID = document.forms["newInjectorForm"]["clinicID"].value;
				if (clinicID == "") {
					alert("Name must be filled out");
					return false;
				}
                if (clinicID.match(/\D/.test(clinicID))){
					alert("Please only enter numeric characters only for your Age! (Allowed input:0-9)");
					return false;
				}
            }
			
		</script>
	</main>
</body>
</html>